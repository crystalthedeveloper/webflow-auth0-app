{"mappings":";;;;;;sDACM;;AAGN;AAEA,MAAM,4BAAM;AAEZ,kBAAkB;AAClB,0BAAI,GAAG,CAAC,CAAC,KAAK,KAAK;IACjB,IAAI,SAAS,CAAC,+BAA+B;IAC7C,IAAI,SAAS,CAAC,gCAAgC;IAC9C,IAAI,SAAS,CAAC,gCAAgC;IAC9C;AACF;AAEA,2BAA2B;AAC3B,MAAM,gCAAU;IACd,QAAQ;IACR,cAAc;IACd,aAAa;QACX,SAAS;IACX;IACA,YAAY,CAAC,UAAU,KAAK;QAC1B,8CAA8C;QAC9C,QAAQ,GAAG,CAAC,CAAC,qBAAqB,EAAE,8BAAQ,MAAM,CAAC,CAAC;QACpD,SAAS,SAAS,CAAC,iBAAiB,CAAC,OAAO,qEAAgC,CAAC;IAC/E;AACF;AAEA,uCAAuC;AACvC,QAAQ,GAAG,CAAC,kBAAkB;AAE9B,mBAAmB;AACnB,MAAM,iCAAW,gDAAsB;AAEvC,2BAA2B;AAC3B,0BAAI,GAAG,CAAC,QAAQ;AAEhB,4BAA4B;AAC5B,0BAAI,OAAO,CAAC,KAAK,CAAC,KAAK;IACrB,IAAI,SAAS,CAAC,+BAA+B;IAC7C,IAAI,SAAS,CAAC,gCAAgC;IAC9C,IAAI,SAAS,CAAC,gCAAgC;IAC9C,IAAI,MAAM,CAAC,KAAK,IAAI;AACtB;AAEA,MAAM;AACN,0BAAI,MAAM,CAAC,4BAAM;IACf,QAAQ,GAAG,CAAC,CAAC,gCAAgC,EAAE,2BAAK,CAAC;AACvD","sources":["pages/api/deleteUser.js"],"sourcesContent":["const express = require('express');\nconst { createProxyMiddleware } = require('http-proxy-middleware');\nconst dotenv = require('dotenv');\n\ndotenv.config();\n\nconst app = express();\n\n// CORS middleware\napp.use((req, res, next) => {\n  res.setHeader('Access-Control-Allow-Origin', 'https://firststep-46e83b.webflow.io');\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, DELETE, OPTIONS');\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  next();\n});\n\n// Proxy middleware options\nconst options = {\n  target: 'https://api.webflow.com', // target host\n  changeOrigin: true,                // needed for virtual hosted sites\n  pathRewrite: {\n    '^/api': '',                     // remove base path\n  },\n  onProxyReq: (proxyReq, req, res) => {\n    // Debug: Log the target and headers to verify\n    console.log(`Proxying request to: ${options.target}`);\n    proxyReq.setHeader('Authorization', `Bearer ${process.env.WEBFLOW_API_TOKEN}`);\n  }\n};\n\n// Debug: Log the entire options object\nconsole.log('Proxy options:', options);\n\n// Create the proxy\nconst apiProxy = createProxyMiddleware(options);\n\n// Use the proxy middleware\napp.use('/api', apiProxy);\n\n// Handle preflight requests\napp.options('*', (req, res) => {\n  res.setHeader('Access-Control-Allow-Origin', 'https://firststep-46e83b.webflow.io');\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, DELETE, OPTIONS');\n  res.setHeader('Access-Control-Allow-Headers', 'Content-Type, Authorization');\n  res.status(200).send();\n});\n\nconst PORT = process.env.PORT || 1234;\napp.listen(PORT, () => {\n  console.log(`Proxy server is running on port ${PORT}`);\n});\n"],"names":[],"version":3,"file":"index.js.map"}